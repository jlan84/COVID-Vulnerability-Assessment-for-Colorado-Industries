import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from df_functions import *


plt.style.use('bmh')


df = pd.read_csv('../data/updated_table.csv')

del df['Unnamed: 0']
# print(df.info())
industry_group = df.groupby('Industry').count().reset_index()
county_group = df.groupby('Colorado county (exposure location)').count().reset_index()

print(county_group['Colorado county (exposure location)'])
# print(industry_group.info())


# fig, axs = plt.subplots(2, 2, figsize=(14,10))
# lst = ['Number of staff who are positive for COVID-19 (lab confirmed)', 'Number of staff with probable COVID-19 (NOT lab confirmed)',
#        'Number of COVID-19 staff deaths (lab confirmed/confirmed)', 'Number of COVID-19 deaths (NOT lab confirmed/probable)']

# for i, ax in zip(lst, axs.flatten()):
#     make_bar_plot(ax, industry_group, i, 'Industry', i)



# make_bar_plot(ax, industry_group, 'Number of COVID-19 staff deaths (lab confirmed/confirmed)', 'Industry', 'Staff Deaths (Lab Confirmed')



fig, ax = plt.subplots(figsize=(12,10))

make_bar_plot(ax, county_group, 'Setting name', 'Colorado county (exposure location)', 'Outbreak Reports by County')

plt.tight_layout()
plt.show()



