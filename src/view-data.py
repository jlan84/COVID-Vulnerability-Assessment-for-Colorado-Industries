import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

plt.style.use('fivethirtyeight')

covidWeeklyDF = pd.read_csv('../data/COVID-Data.csv')
print(covidWeeklyDF.info())

# PPPDataDF = pd.read_csv('../data/PPP_data_to_150k.csv', nrows=15000)

# print(PPPDataDF.info())
# print(PPPDataDF.head())

settingTypeList = covidWeeklyDF['Setting type'].unique()


# pd.DataFrame(settingTypeList).to_csv('../data/setting-types.csv')

otherSetting = covidWeeklyDF['If setting type is other, specify'].unique()
# pd.DataFrame(otherSetting).to_csv('../data/other-setting-types.csv')


nanValues = covidWeeklyDF[covidWeeklyDF['If setting type is other, specify'] == 'nan']
print(nanValues.info())

counties = covidWeeklyDF['Colorado county (exposure location)'].unique()

countyGroup = covidWeeklyDF.groupby('Colorado county (exposure location)').sum().copy().reset_index()



fig, ax = plt.subplots(figsize=(12,12))
tickLoc = np.arange(len(counties))
xLabel = countyGroup.iloc[:, 0]
ax.bar(tickLoc, countyGroup['Number of COVID-19 deaths (lab confirmed/confirmed)'])
ax.set_xticks(ticks=tickLoc)
ax.set_xticklabels([str(x) for x in xLabel], rotation=90)
ax.set_title('Lab Confirmed Deaths by County', fontsize=25)
ax.set_ylabel('Deaths', fontsize=18)




# plt.show()

settingTypeGrp = covidWeeklyDF.groupby('Setting type').sum().copy().reset_index()

print(settingTypeGrp.info())

fig, ax = plt.subplots(figsize=(12,15))
tickLoc = np.arange(len(settingTypeGrp.iloc[:,0]))
xLabel = settingTypeGrp.iloc[:, 0]
ax.bar(tickLoc, settingTypeGrp['Number of COVID-19 deaths (lab confirmed/confirmed)'])
ax.set_xticks(ticks=tickLoc)
ax.set_xticklabels([str(x) for x in xLabel], rotation=90)
ax.set_title('Lab Confirmed Deaths by Setting', fontsize=25)
ax.set_ylabel('Deaths', fontsize=18)

# plt.show()

x = covidWeeklyDF.columns.values.tolist()
for val in x:
    print(val)

industries = ['Ag/Forrestry/Fish/Hunt', 'Mining/Oil and Gas', 'Utilities',
             'Manufacturing', 'Government', 'Construction', 
             'Communications/Information', 'Wholesale Trade', 'Retail Trade',
             'Transportation and Warehousing', 'Professional Services and Mangagment',
             'Finance, Insurance, and Real Estate', 'Education',
             'Health Care and Social Assistance', 'Arts and Entertainment'
             'Hospitality','Other Service']
